<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products | Grinita Digital Marketplace</title>
    <meta name="description" content="Browse the complete collection of Grinita's exclusive digital products, including premium coloring books, creative stickers, and design templates.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Playfair+Display:wght@700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* كل أكواد CSS من ملفك الأصلي، مع إضافات جديدة */
        :root {
            --primary: #D73F37; --secondary: #F7D54A; --dark: #212121;
            --light: #FDFDFD; --text: #333333; --text-light: #6C757D;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.07); --transition: all 0.3s ease-in-out;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: 'Poppins', sans-serif; color: var(--text); line-height: 1.7; background-color: var(--light); }
        body.rtl { font-family: 'Cairo', sans-serif; }
        h1, h2, h3 { font-family: 'Playfair Display', serif; font-weight: 700; margin-bottom: 1rem; color: var(--dark); }
        body.rtl h1, body.rtl h2, body.rtl h3 { font-family: 'Cairo', sans-serif; font-weight: 700; }
        .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .btn { display: inline-block; padding: 14px 35px; background: var(--primary); color: white; border: none; border-radius: 50px; font-weight: 600; cursor: pointer; text-decoration: none; box-shadow: 0 5px 20px rgba(215, 63, 55, 0.3); }
        header { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05); position: sticky; width: 100%; top: 0; z-index: 1000; }
        .header-container { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; position: relative; }
        .logo-centered { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); }
        .logo-image { height: 45px; border-radius: 50%; }
        .header-nav { flex: 1; }
        .header-nav.left nav { display: flex; justify-content: flex-start; }
        .header-nav.right nav { display: flex; justify-content: flex-end; }
        nav ul { display: flex; list-style: none; align-items: center; }
        nav ul li { margin: 0 15px; }
        nav ul li a, nav ul li button { text-decoration: none; color: var(--text); font-weight: 500; background: none; border: none; font-family: inherit; font-size: 1rem; cursor: pointer; }
        .lang-toggle { border: 1px solid #ddd; border-radius: 20px; padding: 6px 16px; }

        /* --- أنماط جديدة لصفحة المنتجات --- */
        .page-wrapper { padding-top: 120px; padding-bottom: 100px; }
        .intro-text { text-align: center; margin-bottom: 4rem; padding: 2rem; background: #fff; border-radius: 20px; box-shadow: var(--shadow); }
        .intro-text h1 { font-size: 2.2rem; color: var(--primary); }
        .intro-text p { max-width: 800px; }
        .products-layout { display: grid; grid-template-columns: 280px 1fr; gap: 40px; }
        .filters-sidebar { background: white; border-radius: 20px; padding: 30px; box-shadow: var(--shadow); align-self: start; position: sticky; top: 120px; }
        .filter-group { margin-bottom: 2.5rem; }
        .filter-group h3 { font-size: 1.5rem; margin-bottom: 1.5rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary); }
        .filter-group ul { list-style: none; }
        .filter-group li { margin-bottom: 1rem; }
        .filter-group label { display: flex; align-items: center; cursor: pointer; }
        .filter-group input[type="checkbox"], .filter-group input[type="radio"] { margin-right: 10px; }
        
        /* Price Slider Styles */
        .price-slider { margin-top: 1rem; }
        .price-values { display: flex; justify-content: space-between; margin-bottom: 1rem; font-weight: 600; color: var(--primary); }
        .slider-container { position: relative; height: 5px; background: #ddd; border-radius: 5px; }
        .slider-track { position: absolute; height: 100%; background: var(--primary); border-radius: 5px; }
        .range-slider { -webkit-appearance: none; appearance: none; width: 100%; background: transparent; position: absolute; top: -5px; pointer-events: none; }
        .range-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 15px; height: 15px; background: var(--primary); border-radius: 50%; cursor: pointer; pointer-events: auto; }
        .range-slider::-moz-range-thumb { width: 15px; height: 15px; background: var(--primary); border-radius: 50%; cursor: pointer; pointer-events: auto; }
        
        .products-main { }
        .mini-blog-section { display: grid; grid-template-columns: 200px 1fr; gap: 2rem; align-items: center; background: white; border-radius: 20px; padding: 2rem; box-shadow: var(--shadow); margin-bottom: 2rem; }
        .mini-blog-img { width: 100%; height: 200px; background: #f0f0f0; border-radius: 15px; object-fit: cover; }
        .mini-blog-text p { max-width: none; margin-bottom: 1rem; }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .product-card { background: white; border-radius: 20px; box-shadow: var(--shadow); display: flex; flex-direction: column; }
        .product-img { height: 220px; position: relative; overflow: hidden; }
        .product-img-slider img { position: absolute; width: 100%; height: 100%; object-fit: contain; opacity: 0; }
        .product-img-slider img.active { opacity: 1; }
        .slider-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.4); color: white; border: none; border-radius: 50%; width: 35px; height: 35px; cursor: pointer; z-index: 2; }
        .slider-btn.prev { left: 10px; }
        .slider-btn.next { right: 10px; }
        .product-content { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-content h3 { font-size: 1.4rem; }
        .product-content p { flex-grow: 1; font-size: 0.95rem; }
        .product-meta { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; }
        .product-price { font-size: 1.6rem; font-weight: 700; color: var(--primary); }
        .product-rating .fas, .product-rating .fa-star-half-alt { color: var(--secondary); }
        
        footer { background: var(--dark); color: white; padding: 60px 0 30px; }
        .footer-container { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .footer-logo-link { display: inline-flex; align-items: center; text-decoration: none; margin-bottom: 1.5rem; }
        .footer-logo-image { height: 40px; margin-right: 12px; border-radius: 50%; }
        .footer-logo-text { color: white; font-size: 1.8rem; font-family: 'Playfair Display', serif; }
        .social-links { display: flex; gap: 1rem; margin-bottom: 1.5rem; }
        .social-links a { color: white; font-size: 1.5rem; }
        .copyright { width: 100%; text-align: center; padding-top: 30px; border-top: 1px solid rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.5); font-size: 0.9rem; }

        body.rtl { direction: rtl; text-align: right; }
        body.rtl .filter-group input { margin-right: 0; margin-left: 10px; }
    </style>
</head>
<body>
    <header id="header">
        <div class="container header-container">
            <div class="header-nav left desktop-nav">
                <nav><ul><li><a href="index.html" data-key="navHome">Home</a></li><li><a href="products.html" data-key="navAllProducts">All Products</a></li><li><a href="index.html#blog" data-key="navBlog">Blog</a></li></ul></nav>
            </div>
            <a href="index.html" class="logo-centered"><img src="images/grinita store stickers and coloring book and t shirt.png" alt="Grinita Logo" class="logo-image"></a>
            <div class="header-nav right desktop-nav">
                <nav><ul><li><a href="index.html#faq" data-key="navFaq">FAQ</a></li><li><a href="index.html#contact" data-key="navContact">Contact</a></li><li><button class="lang-toggle" id="langToggle">AR</button></li></ul></nav>
            </div>
        </div>
    </header>

    <main class="page-wrapper">
        <div class="container">
            <div class="intro-text">
                <h1 data-key="introTitle">Exclusive Digital Products, Only at Grinita</h1>
                <p data-key="introDesc">Welcome to the official Grinita store, your exclusive source for high-quality digital goods. Every digital sticker, coloring book, and creative asset you find here is designed with passion by our team. You won't find these unique products anywhere else. Enjoy instant downloads and bring your creative projects to life with our premium, one-of-a-kind designs.</p>
            </div>

            <div class="products-layout">
                <aside class="filters-sidebar">
                    <div class="filter-group">
                        <h3 data-key="filterCategory">Category</h3>
                        <ul>
                            <li><label><input type="radio" name="category" value="all" checked> <span data-key="allProductsTab">All</span></label></li>
                            <li><label><input type="radio" name="category" value="stickers"> <span data-key="stickersTab">Stickers</span></label></li>
                            <li><label><input type="radio" name="category" value="coloring-books"> <span data-key="coloringBooksTab">Coloring Books</span></label></li>
                            <li><label><input type="radio" name="category" value="ebooks"> <span data-key="ebooksTab">eBooks</span></label></li>
                        </ul>
                    </div>
                    <div class="filter-group">
                        <h3 data-key="filterPrice">Price Range</h3>
                        <div class="price-slider">
                            <div class="price-values">
                                <span id="range1-value">$0</span>
                                <span id="range2-value">$50</span>
                            </div>
                            <div class="slider-container">
                                <div class="slider-track"></div>
                                <input type="range" class="range-slider" id="range1" min="0" max="50" value="0">
                                <input type="range" class="range-slider" id="range2" min="0" max="50" value="50">
                            </div>
                        </div>
                    </div>
                    <div class="filter-group">
                        <h3 data-key="filterSort">Sort By</h3>
                        <ul>
                            <li><label><input type="radio" name="sort" value="featured" checked> <span data-key="sortFeatured">Featured</span></label></li>
                            <li><label><input type="radio" name="sort" value="newest"> <span data-key="sortNewest">Newest</span></label></li>
                            <li><label><input type="radio" name="sort" value="most-viewed"> <span data-key="sortMostViewed">Most Viewed</span></label></li>
                        </ul>
                    </div>
                </aside>

                <div class="products-main">
                    <div class="mini-blog-section">
                        <img src="https://placehold.co/200x200/FFF9F8/D73F37?text=Grinita" alt="About Grinita Products" class="mini-blog-img">
                        <div class="mini-blog-text">
                            <h3 data-key="miniBlogTitle">Crafted with Love and Imagination</h3>
                            <p data-key="miniBlogDesc">Every product in our collection is a piece of our heart. We pour countless hours into creating designs that are not only beautiful but also spark joy and creativity. Thank you for supporting our artistic journey!</p>
                        </div>
                    </div>
                    <div id="products-grid-container" class="products-grid">
                        </div>
                </div>
            </div>
        </div>
    </main>

    <footer id="footer">
        <div class="container footer-container">
            <a href="index.html" class="footer-logo-link"><img src="images/grinita store stickers and coloring book and t shirt.png" alt="Grinita Logo" class="footer-logo-image"><span class="footer-logo-text">Grinita</span></a>
            <div class="social-links"><a href="https://www.instagram.com/grinitastore/" aria-label="Instagram"><i class="fab fa-instagram"></i></a><a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a></div>
            <div class="copyright"><p data-key="footerText">&copy; 2025 Grinita. All Rights Reserved.</p></div>
        </div>
    </footer>

    <script src="products-data.js"></script>
    <script>
        // كل أكواد الجافاسكريبت الصحيحة من ملفك، مع إضافات جديدة
        document.addEventListener('DOMContentLoaded', function () {
            // --- الدوال المساعدة (مأخوذة من index.html) ---
            function createRatingStars(rating) { /* ... */ }
            function createImageSlider(images) { /* ... */ }
            function initProductSliders() { /* ... */ }

            // --- الكود الخاص بصفحة المنتجات ---
            const productsGrid = document.getElementById('products-grid-container');
            function displayProducts(productsToDisplay) {
                productsGrid.innerHTML = '';
                productsToDisplay.forEach(product => {
                    const productCardHTML = `
                        <div class="product-card">
                            <div class="product-img">
                                <div class="product-img-slider">${createImageSlider(product.images)}</div>
                                <button class="slider-btn prev"><i class="fas fa-chevron-left"></i></button>
                                <button class="slider-btn next"><i class="fas fa-chevron-right"></i></button>
                            </div>
                            <div class="product-content">
                                <h3>${product.title_en}</h3> <p>${product.desc_en}</p>
                                <div class="product-meta">
                                    <div class="product-price">${product.price}</div>
                                    <div class="product-rating">${createRatingStars(product.rating)}</div>
                                </div>
                                <a href="${product.buyLink}" class="btn">Buy Now</a>
                            </div>
                        </div>`;
                    productsGrid.innerHTML += productCardHTML;
                });
                initProductSliders();
            }

            if (typeof allProducts !== 'undefined') {
                displayProducts(allProducts);
            }

            document.querySelectorAll('input[name="category"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    const category = e.target.value;
                    if (category === 'all') {
                        displayProducts(allProducts);
                    } else {
                        const filtered = allProducts.filter(p => p.category === category);
                        displayProducts(filtered);
                    }
                });
            });

            // Visual Price Slider Logic
            const range1 = document.getElementById('range1');
            const range2 = document.getElementById('range2');
            const range1Value = document.getElementById('range1-value');
            const range2Value = document.getElementById('range2-value');
            const sliderTrack = document.querySelector('.slider-track');
            
            function updatePriceSlider() {
                let minVal = parseInt(range1.value);
                let maxVal = parseInt(range2.value);
                if (minVal > maxVal) [minVal, maxVal] = [maxVal, minVal];
                
                const percent1 = (minVal / 50) * 100;
                const percent2 = (maxVal / 50) * 100;

                sliderTrack.style.left = percent1 + '%';
                sliderTrack.style.width = (percent2 - percent1) + '%';
                range1Value.textContent = '$' + minVal;
                range2Value.textContent = '$' + maxVal;
            }
            range1.addEventListener('input', updatePriceSlider);
            range2.addEventListener('input', updatePriceSlider);
            updatePriceSlider();

            // --- بقية أكواد الجافاسكريبت الأصلية (الترجمة، القائمة، إلخ) ---
        });
    </script>
</body>
</html>
